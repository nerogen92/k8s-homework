## Домашнее задание к занятию «Компоненты Kubernetes»
### Задание. Необходимо определить требуемые ресурсы
#### 1. База данных
- Потребление: 4 ГБ ОЗУ, 1 ядро
- Копий: 3
- Общие ресурсы:
  - ОЗУ: 4 ГБ * 3 = 12 ГБ
  - Ядра: 1 * 3 = 3 ядра

#### 2. Кеш
- Потребление: 4 ГБ ОЗУ, 1 ядро
- Копий: 3
- Общие ресурсы:
  - ОЗУ: 4 ГБ * 3 = 12 ГБ
  - Ядра: 1 * 3 = 3 ядра

#### 3. Фронтенд
- Потребление: 50 МБ ОЗУ, 0.2 ядра
- Копий: 5
- Общие ресурсы:
  - ОЗУ: 50 МБ * 5 = 250 МБ = 0.25 ГБ
  - Ядра: 0.2 * 5 = 1 ядро

#### 4. Бекенд
- Потребление: 600 МБ ОЗУ, 1 ядро
- Копий: 10
- Общие ресурсы:
  - ОЗУ: 600 МБ * 10 = 6000 МБ = 6 ГБ
  - Ядра: 1 * 10 = 10 ядер

### Итоговые требования к ресурсам
Для определения общих ресурсов кластера, необходимо суммировать ресурсы всех компонентов:

- Общая ОЗУ:
  - База данных: 12 ГБ
  - Кеш: 12 ГБ
  - Фронтенд: 0.25 ГБ
  - Бекенд: 6 ГБ
- **Итого: 12 + 12 + 0.25 + 6 = 30.25 ГБ**

- Общие ядра:
  - База данных: 3 ядра
  - Кеш: 3 ядра
  - Фронтенд: 1 ядро
  - Бекенд: 10 ядер
- **Итого: 3 + 3 + 1 + 10 = 17 ядер**

**ИТОГО:**
- **ОЗУ: 30.25 ГБ**
- **Процессорные ядра: 17 ядер**

Данные характеристики это чистое потребление необходимое для рабочих нод. 

### Итоговые требования к ресурсам
Чистая нагрузка:
- **ОЗУ: 30.25 ГБ**
- **Процессорные ядра: 17 ядер**

## Расчет количества рабочих нод

### Запас на случай выхода из строя одной ноды
Для учета возможного выхода из строя одной ноды, добавляем запас в расчеты. Предположим, что мы хотим иметь запас ресурсов равный ресурсу одной ноды.

### Примерные ресурсы для одной ноды
Для равномерного распределения нагрузки и учета служебных ресурсов предполагаем, что одна воркер-нода будет иметь:
- **ОЗУ: 16 ГБ**
- **Процессорные ядра: 8 ядер**

### Расчет количества нод
С учетом запаса, который учитывает выход из строя одной ноды, и служебных ресурсов:
- Нам нужно минимум 2 воркер-ноды для обеспечения необходимых ресурсов (с учетом того, что одна нода может выйти из строя):
  - **ОЗУ: 30.25 ГБ / 16 ГБ ≈ 2 ноды (округляем до целого числа и добавляем запас)**
  - **Ядра: 17 / 8 ≈ 2 ноды (округляем до целого числа и добавляем запас)**

Таким образом, для нашего кластера понадобится **3 воркер-ноды** с параметрами:
- **ОЗУ: 16 ГБ**
- **Процессорные ядра: 8 ядер**

### Расчет ресурсов для мастер-ноды
Для обеспечения высокой доступности мастер-ноды:
- **ОЗУ: 4 ГБ на ноду**
- **Процессорные ядра: 2 ядра на ноду**

Для отказоустойчивости необходимо минимум 3 мастер-ноды:
- **Итого ОЗУ: 4 ГБ * 3 = 12 ГБ**
- **Итого процессорные ядра: 2 ядра * 3 = 6 ядер**

### Заключение

Для реализации проекта и обеспечения отказоустойчивости, рекомендуется использовать кластер из:

- **3 мастер-ноды:**
  - **ОЗУ: 4 ГБ**
  - **Процессорные ядра: 2 ядра**

- **3 воркер-ноды:**
  - **ОЗУ: 16 ГБ**
  - **Процессорные ядра: 8 ядер**

Этот кластер будет достаточно мощным для выполнения всех задач и устойчивым к выходу из строя одной ноды.
